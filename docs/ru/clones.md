## class Clones

- [Свойства менеджера клонов](#Свойства-менеджера-клонов)
- [Методы](#Методы)
  - [Добавить новый удаленный клон](#Добавить-новый-удаленный-клон)
  - [Удалить удаленный клон](#Удалить-удаленный-клон)
  - [Получить информацию о клонах](#Получить-информацию-о-клонах)
  - [Запустить опрос удаленных клонов](#Запустить-опрос-удаленных-клонов)
  - [Остановить опрос удаленных клонов](#Остановить-опрос-удаленных-клонов)
  - [Получить от удаленных клонов, список доступных им клонов](#Получить-от-удаленных-клонов-список-доступных-им-клонов)

Класс Клон отвечает за общение клонов друг с другом (менеджер клонов). 
Находится в свойстве сервера `clones`.

### Свойства менеджера клонов

| name | type | description |
| --- | --- | --- |
| server | Object | Сервер `class Server` |
| interval | number | Периодичность с которой опрашивать удаленные клоны (миллисекунды) |
| clones | Map | Клиентские соединения к удаленным клонам `class Client` |  
| cache | Object | Кэш групп, объект со свойствами `id`, `url`, `active`. `id` - Объект, ключами которого являются `id` удаленных клонов, значение ключа это информация о клоне. `url` - Объект, ключами которого являются `url` клонов, значение ключа это информация о клоне `client.getInfo()`. `active` - Объект, ключами которого являются `id` активных клонов (доступные по сети), значение ключа это информация о клоне `client.getInfo()`. |

### Методы

#### Добавить новый удаленный клон

`add`, параметры:

| name | type | description |
| --- | --- | --- |
| id | string | `id` удаленного клона |
| url | string | `url` подключения к удаленному клону |
| authFnOut | function | Функция возвращающая значение для аутентификации на удаленном клоне. Например токен который аутентифицирует удаленный клон, при подключении к нему |

#### Удалить удаленный клон

`delete`, параметры:

| name | type | description |
| --- | --- | --- |
| id | string | `id` удаленного клона |

#### Получить информацию о клонах

`get`, параметры:

| name | type | description |
| --- | --- | --- |
| id | string | `id` удаленного клона |
| url | string | `url` удаленного клона |
| active | boolean | `true` - Получить информацию об активных клонах (доступных по сети) |

Вернет информацию о клоне(ах) в зависимости от входных параметров

#### Запустить опрос удаленных клонов

`start`

#### Остановить опрос удаленных клонов

`stop`

#### Получить от удаленных клонов список доступных им клонов

Получить от удаленных клонов, список доступных им клонов. Добавить в менеджер
клонов, ранее не известных клонов. `async getRemoteClones`, параметры:

| name | type | description |
| --- | --- | --- |
| id | string | `id` сервера (этого клона для удаленных) |
| url | string | `url` сервера (этого клона для удаленных) |
| active | boolean | `true` - Получить список только активных клонов |